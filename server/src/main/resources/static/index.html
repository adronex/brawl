<!DOCTYPE html>

<html data-ng-app="clockworks">
<head>
    <title>Clockworks</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width">
    <script src="lib/angular.js"></script>
    <script src="js/app.js"></script>
</head>
<body>

<div data-ng-controller="squadMenuController"
     data-ng-switch="gameStage"
     data-ng-init="onLoad()">

    <div id="menu" data-ng-switch-when="MENU">
        <p>Squads: </p>
        <div id="squads">
            <div data-ng-repeat="(index, squad) in availableSquads">
                <input type="radio"
                       data-ng-model="temp[index]"
                       data-ng-value="squad.id"
                       data-ng-change="temp.chosenSquadId = temp[index]">
                {{squad.name}}
            </div>
        </div>
        <button type="button" data-ng-click="openSocket()">Open</button>
    </div>
    <div id="game" data-ng-switch-when="GAME">
        <button type="button" data-ng-click="sendMulliganInfo()">Choose heroes</button>
        <button type="button" data-ng-click="sendFirstSpell()">Cast first spell</button>
        <button type="button" data-ng-click="closeSocket()">Close</button>
        <div id="connected">
            Connected: {{connected}}
        </div>
        <div id="queue">
            <span data-ng-repeat="item in heroesQueue track by $index"><- {{item ? item : '?'}}</span>
        </div>
        <div id="heroes" style="height: 40px; width: 20%; background-color: antiquewhite">
            <table>
                <tr>
                    <td style="height: 20px; width: 20px; background-color: green" data-ng-repeat="item in myHeroes track by $index" data-ng-attr-title="{{item}}"></td>
                    <td style="height: 20px; width: 20px; background-color: red" data-ng-repeat="item in enemyHeroes track by $index" data-ng-attr-title="{{item}}"></td>
                </tr>
            </table>
        </div>
        <div id="log">
            <div data-ng-repeat="item in battleLog track by $index">
                <span>Sender: {{item.senderId}}, Spell: {{item.spellId}}, Enemy: {{item.enemy}}</span>
            </div>
        </div>
        <div id="messages">
            <div data-ng-repeat="item in messages track by $index">
                <span>{{item}}</span>
            </div>
        </div>
    </div>
</div>

</body>
</html>